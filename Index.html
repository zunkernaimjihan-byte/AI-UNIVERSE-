<!doctype html>
<html lang="bn" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AI Universe</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        gemini: {
                            light: '#f8f9fa',
                            dark: '#1e1e1e',
                            sidebar: '#f0f4f9',
                            sidebarDark: '#171717',
                            input: '#ffffff',
                            inputDark: '#2d2d2d',
                            accent: '#1a73e8',
                            accentHover: '#1557b0'
                        }
                    },
                    fontFamily: {
                        sans: ['Google Sans', 'Roboto', 'Arial', 'sans-serif']
                    }
                }
            }
        }
    </script>
  <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;500;600;700&display=swap');
        
        * { box-sizing: border-box; }
        
        html, body { 
            height: 100%; 
            margin: 0; 
            padding: 0;
            overflow: hidden;
        }
        
        body {
            font-family: 'Noto Sans Bengali', 'Google Sans', sans-serif;
        }
        
        .app-container {
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        
        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .messages-container {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
        }
        
        .input-area {
            flex-shrink: 0;
            padding: 12px 16px;
            padding-bottom: max(12px, env(safe-area-inset-bottom));
        }
        
        .sidebar {
            width: 280px;
            flex-shrink: 0;
            overflow-y: auto;
            transition: transform 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                left: 0;
                top: 0;
                bottom: 0;
                z-index: 50;
                transform: translateX(-100%);
            }
            .sidebar.open {
                transform: translateX(0);
            }
        }
        
        .overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            z-index: 40;
        }
        
        .overlay.open {
            display: block;
        }
        
        .message-content pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 8px 0;
        }
        
        .message-content code {
            background: #f1f3f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
        }
        
        .dark .message-content code {
            background: #3c3c3c;
        }
        
        .message-content pre code {
            background: transparent;
            padding: 0;
        }
        
        .message-content p { margin: 8px 0; }
        .message-content ul, .message-content ol { 
            margin: 8px 0; 
            padding-left: 24px; 
        }
        .message-content li { margin: 4px 0; }
        .message-content h1, .message-content h2, .message-content h3 {
            margin: 16px 0 8px 0;
            font-weight: 600;
        }
        
        .typing-cursor {
            display: inline-block;
            width: 8px;
            height: 18px;
            background: currentColor;
            margin-left: 2px;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .chat-item:hover .chat-actions {
            opacity: 1;
        }
        
        .chat-actions {
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 100;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.5);
        }
        
        .modal.open {
            display: flex;
        }
        
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            background: #323232;
            color: white;
            border-radius: 8px;
            z-index: 200;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .toast.show {
            opacity: 1;
        }
        
        .send-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.2s;
        }
        
        .send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .send-btn:disabled {
            opacity: 0.5;
            transform: none;
            cursor: not-allowed;
        }
        
        textarea {
            resize: none;
        }
        
        .welcome-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
    </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-gemini-light dark:bg-gemini-dark text-gray-900 dark:text-gray-100"><!-- Loading Screen -->
  <div id="loading" class="fixed inset-0 bg-white dark:bg-gray-900 flex items-center justify-center z-[999]">
   <div class="text-center">
    <div class="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
    <p class="text-lg font-medium text-gray-600 dark:text-gray-300">AI Universe ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
   </div>
  </div><!-- Main App Container -->
  <div id="app" class="app-container hidden"><!-- Mobile Overlay -->
   <div id="overlay" class="overlay" onclick="toggleSidebar()"></div>
   <div class="main-content"><!-- Sidebar -->
    <aside id="sidebar" class="sidebar bg-gemini-sidebar dark:bg-gemini-sidebarDark border-r border-gray-200 dark:border-gray-700 flex flex-col"><!-- Sidebar Header -->
     <div class="p-4 border-b border-gray-200 dark:border-gray-700"><button onclick="createNewChat()" class="w-full flex items-center gap-3 px-4 py-3 bg-white dark:bg-gray-800 rounded-full shadow-sm hover:shadow-md transition-shadow border border-gray-200 dark:border-gray-600">
       <svg class="w-5 h-5 text-gray-600 dark:text-gray-300" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
       </svg><span class="font-medium text-gray-700 dark:text-gray-200">‡¶®‡¶§‡ßÅ‡¶® ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü</span> </button>
     </div><!-- Chat History -->
     <div class="flex-1 overflow-y-auto p-2">
      <p class="px-3 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide">‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï</p>
      <div id="chatList" class="space-y-1"></div>
     </div><!-- Sidebar Footer -->
     <div class="p-4 border-t border-gray-200 dark:border-gray-700 space-y-2"><button onclick="openSettings()" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
       <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
       </svg><span>‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</span> </button> <button onclick="toggleDarkMode()" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
       <svg id="darkModeIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
       </svg><span id="darkModeText">‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶°</span> </button>
     </div>
    </aside><!-- Chat Area -->
    <main class="chat-area bg-white dark:bg-gemini-dark"><!-- Chat Header -->
     <header class="flex items-center gap-3 px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gemini-dark flex-shrink-0"><button onclick="toggleSidebar()" class="md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
       </svg></button>
      <div class="flex items-center gap-2">
       <div class="w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center"><span class="text-white text-sm font-bold">AI</span>
       </div>
       <h1 id="appTitle" class="text-lg font-semibold">AI Universe</h1>
      </div>
      <div class="ml-auto flex items-center gap-2"><button onclick="openSystemPrompt()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700" title="‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶™‡ßç‡¶∞‡¶Æ‡ßç‡¶™‡¶ü">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
        </svg></button>
      </div>
     </header><!-- Messages Container -->
     <div id="messagesContainer" class="messages-container px-4 py-6"><!-- Welcome Screen -->
      <div id="welcomeScreen" class="h-full flex flex-col items-center justify-center text-center px-4">
       <div class="w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center mb-6 shadow-lg"><span class="text-white text-2xl font-bold">AI</span>
       </div>
       <h2 class="text-3xl md:text-4xl font-bold welcome-gradient mb-4">AI Universe-‡¶è ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ</h2>
       <p class="text-gray-600 dark:text-gray-400 max-w-md mb-8">‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ AI ‡¶∏‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ‡•§ ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶ú‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶∏‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶ï‡ßã‡¶° ‡¶≤‡¶ø‡¶ñ‡¶§‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶®‡¶ø‡¶®, ‡¶¨‡¶æ ‡¶∏‡ßÉ‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶≤‡ßã‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-lg"><button onclick="sendSuggestion('‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶Ø‡¶º ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡ßã‡¶ü ‡¶ï‡¶¨‡¶ø‡¶§‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®')" class="p-4 bg-gray-50 dark:bg-gray-800 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left"> <span class="text-2xl mb-2 block">‚ú®</span> <span class="text-sm text-gray-700 dark:text-gray-300">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶Ø‡¶º ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡ßã‡¶ü ‡¶ï‡¶¨‡¶ø‡¶§‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</span> </button> <button onclick="sendSuggestion('JavaScript ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ calculator ‡¶¨‡¶æ‡¶®‡¶æ‡¶®')" class="p-4 bg-gray-50 dark:bg-gray-800 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left"> <span class="text-2xl mb-2 block">üíª</span> <span class="text-sm text-gray-700 dark:text-gray-300">JavaScript calculator ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</span> </button> <button onclick="sendSuggestion('Machine Learning ‡¶ï‡¶ø? ‡¶∏‡¶π‡¶ú ‡¶≠‡¶æ‡¶∑‡¶æ‡¶Ø‡¶º ‡¶¨‡ßÅ‡¶ù‡¶ø‡¶Ø‡¶º‡ßá ‡¶¨‡¶≤‡ßÅ‡¶®')" class="p-4 bg-gray-50 dark:bg-gray-800 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left"> <span class="text-2xl mb-2 block">ü§ñ</span> <span class="text-sm text-gray-700 dark:text-gray-300">Machine Learning ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</span> </button> <button onclick="sendSuggestion('‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡ßÅ‡¶∏‡ßç‡¶¨‡¶æ‡¶¶‡ßÅ ‡¶¨‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶®‡¶ø‡¶∞ ‡¶∞‡ßá‡¶∏‡¶ø‡¶™‡¶ø ‡¶¶‡¶ø‡¶®')" class="p-4 bg-gray-50 dark:bg-gray-800 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left"> <span class="text-2xl mb-2 block">üçõ</span> <span class="text-sm text-gray-700 dark:text-gray-300">‡¶¨‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶®‡¶ø‡¶∞ ‡¶∞‡ßá‡¶∏‡¶ø‡¶™‡¶ø</span> </button>
       </div>
      </div><!-- Messages will be rendered here -->
      <div id="messagesList" class="space-y-6 hidden"></div>
     </div><!-- Input Area -->
     <div class="input-area bg-white dark:bg-gemini-dark border-t border-gray-200 dark:border-gray-700">
      <div class="max-w-4xl mx-auto">
       <div class="flex items-end gap-3 bg-gray-50 dark:bg-gray-800 rounded-2xl p-3 shadow-sm border border-gray-200 dark:border-gray-600"><textarea id="messageInput" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." rows="1" class="flex-1 bg-transparent outline-none text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 max-h-32 overflow-y-auto" onkeydown="handleKeyDown(event)" oninput="autoResize(this)"></textarea> <button id="sendBtn" onclick="sendMessage()" class="send-btn p-3 rounded-xl text-white flex-shrink-0" disabled>
         <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
         </svg></button>
       </div>
       <p class="text-xs text-center text-gray-400 dark:text-gray-500 mt-2">AI Universe ‡¶≠‡ßÅ‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
      </div>
     </div>
    </main>
   </div>
  </div><!-- Settings Modal -->
  <div id="settingsModal" class="modal">
   <div class="bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md mx-4 shadow-2xl">
    <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
     <h3 class="text-lg font-semibold">‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</h3><button onclick="closeSettings()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg></button>
    </div>
    <div class="p-4 space-y-4">
     <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">OpenRouter API Key</label> <input type="password" id="apiKeyInput" placeholder="sk-or-v1-..." class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-purple-500">
      <p class="text-xs text-gray-500 mt-1"><a href="https://openrouter.ai/keys" target="_blank" rel="noopener noreferrer" class="text-purple-500 hover:underline">OpenRouter</a> ‡¶•‡ßá‡¶ï‡ßá API key ‡¶®‡¶ø‡¶®</p>
     </div>
     <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Model</label> <select id="modelSelect" class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-purple-500"> <option value="deepseek/deepseek-r1:free">DeepSeek R1 (Free)</option> <option value="deepseek/deepseek-chat:free">DeepSeek Chat (Free)</option> <option value="google/gemini-2.0-flash-exp:free">Gemini 2.0 Flash (Free)</option> <option value="meta-llama/llama-3.3-70b-instruct:free">Llama 3.3 70B (Free)</option> <option value="qwen/qwen-2.5-72b-instruct:free">Qwen 2.5 72B (Free)</option> <option value="mistralai/mistral-small-24b-instruct-2501:free">Mistral Small (Free)</option> </select>
     </div>
     <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl"><span class="text-sm font-medium">‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ç ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏</span> <label class="relative inline-flex items-center cursor-pointer"> <input type="checkbox" id="streamingToggle" class="sr-only peer" checked>
       <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-500"></div></label>
     </div>
    </div>
    <div class="p-4 border-t border-gray-200 dark:border-gray-700"><button onclick="saveSettings()" class="w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:opacity-90 transition-opacity"> ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® </button>
    </div>
   </div>
  </div><!-- System Prompt Modal -->
  <div id="systemPromptModal" class="modal">
   <div class="bg-white dark:bg-gray-800 rounded-2xl w-full max-w-lg mx-4 shadow-2xl">
    <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
     <h3 class="text-lg font-semibold">‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶™‡ßç‡¶∞‡¶Æ‡ßç‡¶™‡¶ü</h3><button onclick="closeSystemPrompt()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg></button>
    </div>
    <div class="p-4"><textarea id="systemPromptInput" rows="6" placeholder="AI ‡¶è‡¶∞ ‡¶Ü‡¶ö‡¶∞‡¶£ ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®... (‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶è‡¶ï‡¶ú‡¶® ‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶ï ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï)" class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-purple-500 resize-none"></textarea>
     <p class="text-xs text-gray-500 mt-2">‡¶è‡¶á ‡¶™‡ßç‡¶∞‡¶Æ‡ßç‡¶™‡¶ü AI ‡¶è‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶â‡¶§‡ßç‡¶§‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶≠‡¶æ‡¶¨ ‡¶´‡ßá‡¶≤‡¶¨‡ßá‡•§</p>
    </div>
    <div class="p-4 border-t border-gray-200 dark:border-gray-700 flex gap-3"><button onclick="clearSystemPrompt()" class="flex-1 py-3 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"> ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶® </button> <button onclick="saveSystemPrompt()" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:opacity-90 transition-opacity"> ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® </button>
    </div>
   </div>
  </div><!-- Rename Chat Modal -->
  <div id="renameModal" class="modal">
   <div class="bg-white dark:bg-gray-800 rounded-2xl w-full max-w-sm mx-4 shadow-2xl">
    <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
     <h3 class="text-lg font-semibold">‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®</h3><button onclick="closeRenameModal()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg></button>
    </div>
    <div class="p-4"><input type="text" id="renameInput" placeholder="‡¶®‡¶§‡ßÅ‡¶® ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-purple-500">
    </div>
    <div class="p-4 border-t border-gray-200 dark:border-gray-700"><button onclick="confirmRename()" class="w-full py-3 bg-gradient-to-r fro
